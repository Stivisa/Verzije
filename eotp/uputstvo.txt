~poslednja verzija datum 2026-01-15

PODEŠAVANJE
-Server mora imati instaliran odbc driver Microsoft Access Driver (*.mdb, *.accdb). Instaliraj accessdatabaseengine_X64.exe
-Kreirati i popuniti fajl .ini koji se mora nalaziti na lokaciji .exe fajla.
-ApiKey kopirati sa sajta eotpremnica, u podešavanjima
-MdbPath je lokacija .mdb baze podataka
-primer izgleda .ini fajla:
[eOtpremnica]
ApiKey = "your-api-key-here"
MdbPath = "C:\path\to\your\database.mdb"
#opciono
CreatedXmlPath = "C:\path\to\save\xml\files"

NAPOMENE
-Tezina isporuke mere: 'KGM', 'GRM' ili 'TNE'
-Zapremina isporuke mere: 'MTQ' ili 'LTR'
-Nacin otpreme 1: Sopstveni prevoz; 2: Prevoznik; 3: Prevoz primaoca; 4: Lično preuzimanje; 5: Lična dostava;
-Mere artikala ako moze se automatski prevode u standardne kodove (kom→H87, kg→KGM, l→LTR, itd.), inace default kom→H87

BAZA
OTPREMNICA --SifraDok--> OTPSTAVKA
           --SifraDok--> OTPPRETOVAR

KORIŠĆENJE POJEDINAČNO
-navedena su pokretanja iz terminala na lokaciji .exe fajla
-logovi, na lokaciji .exe u folderu logs/eOtpremnica.log

1. Slanje otpremnice po broju dokumenta. Aplikacija automatski:
   - Učitava podatke iz OTPREMNICA i Stavka tabela (spojenih sa Artikal tabelom)
   - Generiše i šalje XML na API
   - Proverava statusne izmene
   - Ažurira OTPREMNICA tabelu sa: DatumIzdavanjaOTP, IDzahteva, StatusOTP, IDotpremnice ili Greska
   (DatumIzdavanjaOTP je trenutni datum)
Primer:
".\eotpremnica.exe slanjeOtpremnice 001"
-slanje sa cuvanjem XML (opcioni flag --xml)
".\eotpremnica.exe slanjeOtpremnice 001 --xml"
-opsirniji log (opcioni flag --log)
".\eotpremnica.exe slanjeOtpremnice 001 --log"

2. Proverava promena statusa poslatih zahteva: Pending, Error, Success
   - Ažurira OTPREMNICA tabelu sa: StatusOTP, IDotpremnice ili Greska
Primer:
".\eotpremnica.exe promeneZahteva"
-opsirniji log (opcioni flag --log)
".\eotpremnica.exe promeneZahteva --log"

3. Kreiranje xml otpremnice sa datim brojem dokumenta
Primer:
".\eotpremnica.exe napraviXmlOtpremnice 1837206"

4. Proverava promena statusa otpremnica posiljalac: Послато - Sent, Сторнирано - Cancelled, Физички пријем - Delivered, Заплењено - Seized, Усаглашено - Fulfilled
   - Ažurira OTPREMNICA tabelu sa: StatusOTP
Primer:
".\eotpremnica.exe promenePosiljalac"
-opsirniji log (opcioni flag --log)
".\eotpremnica.exe Posiljalac --log"